# v1.0.0 - Release

**目标**: 生产就绪的局域网即时通讯,完整的飞秋功能,在所有平台测试通过。

## 依赖

- v0.9.0 (所有功能 + 可靠性)

## 任务

### 1.0.1 跨平台测试

测试矩阵:

| 平台 | 版本 |
|----------|---------|
| macOS | 14+ (Sonoma) |
| iOS | 17+ |
| iPadOS | 17+ |
| watchOS | 10+ |

每个平台的测试场景:
- 局域网发现正常
- 一对一和群聊
- 文件/文件夹传输
- 截图捕获
- 系统托盘/通知(桌面)
- 自动启动(桌面)
- 修复平台特定的 bug

### 1.0.2 飞秋互操作测试

- 安装原版飞秋(Windows)或兼容客户端
- 验证:
  - FluxQ 发现飞秋用户
  - 飞秋发现 FluxQ 用户
  - 文本消息在两个应用间收发
  - 文件传输在两个应用间工作
  - 状态更新传播
- 记录任何不兼容性
- 修复测试期间发现的协议问题

### 1.0.3 性能优化

- **消息列表**: 虚拟化 List,支持 10K+ 消息
- **图片缓存**: LRU 缓存,磁盘清理策略
- **数据库**: 查询优化,正确的索引
- **内存分析**: 长时间使用无内存泄漏
- **启动时间**: < 2 秒到可交互
- **网络**: 高效的 UDP 广播(避免洪泛)
- **电池**: 优化移动端后台服务

### 1.0.4 UI 打磨

动画:
- 页面过渡
- 消息发送/接收动画
- 下拉刷新
- 标签切换过渡

响应式布局:
- 桌面: 侧边栏 + 内容区域(宽布局)
- 平板: 自适应布局
- 手机: 单列导航

无障碍:
- VoiceOver 支持
- 充足的颜色对比度
- 触摸目标尺寸(最小 44pt)

### 1.0.5 发布构建

- **macOS**: DMG 带代码签名 + 公证
- **iOS/iPadOS**: IPA 用于 TestFlight / App Store
- **watchOS**: 通过 iOS 应用分发
- 为所有平台配置应用图标
- 移动端启动屏幕

### 1.0.6 E2E 测试

E2E 测试套件:
- **t01**: 应用启动(启动/导航标签/空状态)
- **t02**: 发现到聊天(在线用户/发送消息导航/离线移除)
- **t03**: 发送私聊消息(TCP 包验证/会话列表更新)
- **t04**: 接收私聊消息(消息显示/未读数/通知)
- **t05**: 创建群组(成员选择/UI 状态/按钮验证)
- **t06**: 群组消息(群组列表/群组图标/消息显示)
- **t07**: 设置更改(通知/声音切换/主题/字体对话框)
- **t08**: 完整往返(发现 → 聊天 → 发送 → 验证)

总计: 22 个测试覆盖核心流程

### 1.0.7 文档

- **用户指南**: 入门/功能演练
- **构建说明**: 如何从源码构建
- **协议文档**: IPMsg 兼容性说明
- **贡献指南**: 如何贡献代码
- **CHANGELOG.md**: 从 v0.1.0 到 v1.0.0 的所有版本

## 验证

- [ ] 所有平台构建成功
- [ ] 飞秋客户端可以与 FluxQ 通信
- [ ] 活跃使用 1 小时后无内存泄漏
- [ ] 启动时间 < 2 秒
- [ ] 所有动画流畅(60fps)
- [ ] 发布安装程序在干净机器上工作
- [ ] 文档覆盖所有功能
- [ ] E2E 测试通过(22 个测试覆盖核心流程)
- [ ] swift test 在所有模块无错误

## 交付物

生产就绪的局域网即时通讯,完整的飞秋功能,在所有平台测试通过。

## 发布清单

1. ✅ 所有验证项通过
2. ✅ CHANGELOG.md 更新
3. ✅ README.md 更新
4. ✅ 更新版本号到 1.0.0
5. ✅ git commit && git tag v1.0.0
6. ✅ git push origin main --tags
7. ✅ 创建 GitHub Release
8. ✅ 上传构建产物:
   - FluxQ-v1.0.0-macos.dmg
   - FluxQ-v1.0.0-ios.ipa (TestFlight 链接)
9. ✅ 标记为 Latest Release
10. ✅ 发布公告
